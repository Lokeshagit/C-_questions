Question 1: Code Understanding (30M)

You are given string s of size n which contain lower case letters   and '?'. 
string is special if it contains 5 continuous vowels or 6 continuous consonants.
You can replace '?' with any character u want.
return the first index where given string contains the contains 5 continuous vowels or 6 continuous consonants after performing an operation.
otherwise return -1.


#include <iostream>
#include <string>
#include <unordered_set>

using namespace std;

int firstSpecialIndex(const string& s) {
    unordered_set<char> vowels = {'a', 'e', 'i', 'o', 'u'};
    int n = (int)s.size();

    int maxVowelLen = 0, maxConsLen = 0;

    for (int i = 0; i < n; ++i) {
        char ch = s[i];

        if (ch == '?') {
            // '?' can be vowel or consonant, so both increase counts by 1
            maxVowelLen = maxVowelLen + 1;
            maxConsLen = maxConsLen + 1;
        } 
        else if (vowels.count(ch)) {
            // vowel resets consonant count, increments vowel count
            maxVowelLen = maxVowelLen + 1;
            maxConsLen = 0;
        } 
        else {
            // consonant resets vowel count, increments consonant count
            maxConsLen = maxConsLen + 1;
            maxVowelLen = 0;
        }

        if (maxVowelLen >= 5) {
            return i - 5 + 1;  // start index of vowel streak
        }
        if (maxConsLen >= 6) {
            return i - 6 + 1;  // start index of consonant streak
        }
    }
    return -1;
}

int main() {
    string s;
    cin >> s;
    cout << firstSpecialIndex(s) << "\n";
    return 0;
}
